# Limits & Requests

## **Requests**

- Минимальные ресурсы, гарантированные **Scheduler**’ом
- Стараться устанавливать значения необходимые для нормальной работы
- Определяют **QoS класс** (BestEffort, Burstable, Guaranteed)
- Под нагрузкой:

  - Pod получает **минимум (requests)** гарантированно
  - Если Node перегружен → Pod с маленьким requests **может быть эвиктирован первым**

- VPA корректирует requests; Deployment остаётся «baseline»

## **Limits**

- Максимум ресурсов, который Pod может использовать
- CPU → **throttling** при превышении
- Memory → **OOMKill** при превышении

## **QoS классы**

| Класс      | Req | Lim | Поведение под нагрузкой                                                                   |
| ---------- | --- | --- | ----------------------------------------------------------------------------------------- |
| BestEffort | нет | нет | получает ресурсы только если остаётся, эвиктится первым                                   |
| Burstable  | <   | >   | получает requests гарантировано, может использовать до limits, эвиктится позже BestEffort |
| Guaranteed | =   | =   | получает точно requests/limits, эвиктится последним                                       |

---

✅ **CKA key points**

- Requests = защита Pod и сигнал кластеру
- Limits = защита от чрезмерного потребления
- VPA управляет **requests**, Deployment остаётся базовым
