# Конспект по подготовке к CKA

## Основные компоненты Kubernetes

- **kube-scheduler** — назначает поды на ноды с учётом ресурсов и политик.
- **kube-controller-manager** — набор служебных тасок (контроль состояния кластера, создание сущностей в controler JOB, SA, Deploy)
- **kubelet** — запускает и поддерживает поды на ноде.
- **kube-proxy** — обеспечивает сетевое взаимодействие подов.
- **CNI** (Container Network Interface) — плагины для сети.
- **CRI** (Container Runtime Interface) — интерфейс для контейнерных рантаймов.
- **DNS** — служба имен для сервисов и подов.

---

## Работа с логами

- Используется команда `kubectl logs`.

---

## Основные объекты Kubernetes

- **Pod** — минимальная исполняемая единица (контейнеры).
- **ReplicaSet** — обеспечивает заданное количество реплик пода.
- **Deployment** — управляет ReplicaSet с поддержкой стратегий обновления.
- **StatefulSet** — для stateful-приложений с устойчивыми именами и хранилищем.

---

## Балансировка нагрузки

- **Cloud Provider LB** — встроенные решения облачных провайдеров.
- **HAProxy + keepalived** — стандартное решение для on-premise.
- **Nginx** — гибко, но сложно в настройке.
- **KubeVIP / MetalLB** — декларативные балансировщики для bare-metal.

---

## Лимиты Kubernetes

- Не более **110 подов на ноду**.
- Не более **5000 нод** в кластере.
- Не более **150 000 подов** всего.
- Не более **300 000 контейнеров** всего.

---

## Сетевые порты в сервисах

- **targetPort** — порт пода, на который направляется трафик.

---

## Полезные пакеты/инструменты

- **Metrics Server** — сбор метрик использования ресурсов подами и нодами.
- **Kube-state-metrics** — отслеживает состояние объектов Kubernetes через API.
